ğŸ§­ 1. Má»¥c tiÃªu
XÃ¢y dá»±ng há»‡ thá»‘ng backend cho ná»n táº£ng xem phim trá»±c tuyáº¿n, há»— trá»£:

Kiáº¿n trÃºc microservice
PhÃ¡t phim báº±ng signed URL tá»« MinIO
LÆ°u lá»‹ch sá»­, bÃ¬nh luáº­n, Ä‘á» xuáº¥t
Cháº¡y toÃ n bá»™ trÃªn local báº±ng Docker Compose
TÃ­ch há»£p Prometheus & Grafana Ä‘á»ƒ giÃ¡m sÃ¡t há»‡ thá»‘ng


âœ… 2. Functional Requirements
MÃ£	Chá»©c nÄƒng	Ghi chÃº
F01	ÄÄƒng kÃ½ / Ä‘Äƒng nháº­p	Qua auth-service, phÃ¡t JWT
F02	Duyá»‡t danh sÃ¡ch phim theo thá»ƒ loáº¡i	movie-service cung cáº¥p
F03	Xem chi tiáº¿t phim	Bao gá»“m trailer, diá»…n viÃªn
âœ… F04	Xem phim báº±ng Signed URL tá»« MinIO	streaming-service sinh signed URL
F05	ÄÃ¡nh dáº¥u phim yÃªu thÃ­ch	Qua user-service
âš ï¸ F06	Chá»‰ há»— trá»£ bÃ¬nh luáº­n, chÆ°a cÃ³ rating	comment-service
F07	LÆ°u lá»‹ch sá»­ xem phim	history-service
F08	Gá»£i Ã½ phim dá»±a trÃªn hÃ nh vi	recommendation-service
F09	Admin CRUD phim, thá»ƒ loáº¡i	movie-service, phÃ¢n quyá»n qua JWT
F10	Ghi log hÃ nh vi ngÆ°á»i dÃ¹ng	audit-service


ğŸ” 3. Non-Functional Requirements
NhÃ³m	YÃªu cáº§u
Báº£o máº­t	Sá»­ dá»¥ng JWT cho xÃ¡c thá»±c vÃ  phÃ¢n quyá»n
Triá»ƒn khai	Cháº¡y 100% báº±ng Docker Compose, local only
Storage	Phim lÆ°u báº±ng MinIO (S3-compatible)
GiÃ¡m sÃ¡t	âœ”ï¸ TÃ­ch há»£p Prometheus + Grafana Ä‘á»ƒ theo dÃµi CPU, request, DB...
Clean architecture	Service code tÃ¡ch biá»‡t theo domain rÃµ rÃ ng
Event-driven	Sá»­ dá»¥ng Kafka cho 1 sá»‘ event ná»™i bá»™ (náº¿u cÃ³)



ğŸ§± 4. Microservices & Domain Logic
Service	MÃ´ táº£	DB / Storage
auth-service	XÃ¡c thá»±c ngÆ°á»i dÃ¹ng, phÃ¡t JWT	PostgreSQL
user-service	Quáº£n lÃ½ profile, danh sÃ¡ch yÃªu thÃ­ch	PostgreSQL
movie-service	CRUD phim, thá»ƒ loáº¡i, diá»…n viÃªn, trailer	MongoDB
streaming-service	Sinh signed URL Ä‘á»ƒ phÃ¡t phim tá»« MinIO	MinIO
history-service	Ghi nháº­n quÃ¡ trÃ¬nh xem phim	PostgreSQL
comment-service	NgÆ°á»i dÃ¹ng Ä‘á»ƒ láº¡i bÃ¬nh luáº­n phim	PostgreSQL
recommendation-service	Gá»£i Ã½ phim dá»±a trÃªn hÃ nh vi	Redis
audit-service	Ghi láº¡i hÃ nh vi user (login, xem, bÃ¬nh luáº­n...)	File hoáº·c Elastic (tÃ¹y phase)
api-gateway	Cá»•ng vÃ o táº­p trung	Reverse proxy báº±ng NGINX hoáº·c Spring Cloud Gateway



ğŸ—‚ï¸ 5. Database & Storage Mapping
ThÃ nh pháº§n	Loáº¡i	CÃ´ng nghá»‡
Relational DB	PostgreSQL	auth, user, history, comment
NoSQL	MongoDB	movie metadata (poster, trailer...)
Object Storage	MinIO	video files (mp4), poster, trailer
Cache / Streaming	Redis	cho recommendation
Metrics	Prometheus	scraping service metrics
Visualization	Grafana	dashboard theo dÃµi há»‡ thá»‘ng



ğŸ“Š 6. Monitoring Setup (TÃ­ch há»£p sáºµn)
Má»—i service expose metrics á»Ÿ /actuator/prometheus hoáº·c /metrics
Prometheus cáº¥u hÃ¬nh Ä‘á»ƒ scrape
Grafana cÃ³ dashboard máº·c Ä‘á»‹nh:
Request count, error rate
Container CPU / memory
DB query time
Streaming signed URL count



4. Bounded Contexts vÃ  Service Mapping
Bounded Context	Microservice Ä‘á» xuáº¥t	MÃ´ táº£
Authentication	auth-service	Quáº£n lÃ½ login, register, token
User Profile	user-service	ThÃ´ng tin user, yÃªu thÃ­ch
Movie Catalog	movie-service	CRUD phim, genre, diá»…n viÃªn
Streaming	streaming-service	Táº¡o signed URL, quáº£n lÃ½ token phÃ¡t
Watch History	history-service	Ghi nháº­n quÃ¡ trÃ¬nh xem
Rating & Review	rating-service	ÄÃ¡nh giÃ¡, comment
Recommendation	recommendation-service	Gá»£i Ã½ phim cÃ¡ nhÃ¢n
Notification	notification-service	Gá»­i email/push
Audit Logging	audit-service	Ghi hÃ nh vi, phá»¥c vá»¥ trace/debug
Admin Portal	Táº¡m thá»i khÃ´ng build UI	NhÆ°ng cÃ³ API riÃªng (role: ADMIN)